"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([[59504],{15680:(e,n,l)=>{l.d(n,{xA:()=>u,yg:()=>m});var a=l(296540);function t(e,n,l){return n in e?Object.defineProperty(e,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[n]=l,e}function r(e,n){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),l.push.apply(l,a)}return l}function i(e){for(var n=1;n<arguments.length;n++){var l=null!=arguments[n]?arguments[n]:{};n%2?r(Object(l),!0).forEach((function(n){t(e,n,l[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):r(Object(l)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(l,n))}))}return e}function o(e,n){if(null==e)return{};var l,a,t=function(e,n){if(null==e)return{};var l,a,t={},r=Object.keys(e);for(a=0;a<r.length;a++)l=r[a],n.indexOf(l)>=0||(t[l]=e[l]);return t}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)l=r[a],n.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(e,l)&&(t[l]=e[l])}return t}var s=a.createContext({}),p=function(e){var n=a.useContext(s),l=n;return e&&(l="function"==typeof e?e(n):i(i({},n),e)),l},u=function(e){var n=p(e.components);return a.createElement(s.Provider,{value:n},e.children)},y="mdxType",c={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},d=a.forwardRef((function(e,n){var l=e.components,t=e.mdxType,r=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),y=p(l),d=t,m=y["".concat(s,".").concat(d)]||y[d]||c[d]||r;return l?a.createElement(m,i(i({ref:n},u),{},{components:l})):a.createElement(m,i({ref:n},u))}));function m(e,n){var l=arguments,t=n&&n.mdxType;if("string"==typeof e||t){var r=l.length,i=new Array(r);i[0]=d;var o={};for(var s in n)hasOwnProperty.call(n,s)&&(o[s]=n[s]);o.originalType=e,o[y]="string"==typeof e?e:t,i[1]=o;for(var p=2;p<r;p++)i[p]=l[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,l)}d.displayName="MDXCreateElement"},332180:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>s,contentTitle:()=>i,default:()=>c,frontMatter:()=>r,metadata:()=>o,toc:()=>p});var a=l(58168),t=(l(296540),l(15680));const r={title:"\u5f02\u6b65\u7269\u5316\u89c6\u56fe",language:"zh-CN"},i=void 0,o={unversionedId:"query-acceleration/async-materialized-view/async-materialized-view",id:"query-acceleration/async-materialized-view/async-materialized-view",title:"\u5f02\u6b65\u7269\u5316\u89c6\u56fe",description:"\x3c!--",source:"@site/i18n/zh-CN/docusaurus-plugin-content-docs/current/query-acceleration/async-materialized-view/async-materialized-view.md",sourceDirName:"query-acceleration/async-materialized-view",slug:"/query-acceleration/async-materialized-view/",permalink:"/zh-CN/docs/dev/query-acceleration/async-materialized-view/",draft:!1,tags:[],version:"current",frontMatter:{title:"\u5f02\u6b65\u7269\u5316\u89c6\u56fe",language:"zh-CN"},sidebar:"docs",previous:{title:"\u83b7\u53d6 Profile",permalink:"/zh-CN/docs/dev/query-acceleration/slow-query-analysis/get-profile"},next:{title:"\u67e5\u8be2\u5f02\u6b65\u7269\u5316\u89c6\u56fe",permalink:"/zh-CN/docs/dev/query-acceleration/async-materialized-view/query-async-materialized-view"}},s={},p=[{value:"\u7269\u5316\u89c6\u56fe\u7684\u6784\u5efa\u548c\u7ef4\u62a4",id:"\u7269\u5316\u89c6\u56fe\u7684\u6784\u5efa\u548c\u7ef4\u62a4",level:2},{value:"\u521b\u5efa\u7269\u5316\u89c6\u56fe",id:"\u521b\u5efa\u7269\u5316\u89c6\u56fe",level:3},{value:"\u67e5\u770b\u7269\u5316\u89c6\u56fe\u5143\u4fe1\u606f",id:"\u67e5\u770b\u7269\u5316\u89c6\u56fe\u5143\u4fe1\u606f",level:3},{value:"\u5237\u65b0\u7269\u5316\u89c6\u56fe",id:"\u5237\u65b0\u7269\u5316\u89c6\u56fe",level:3},{value:"\u4efb\u52a1\u7ba1\u7406",id:"\u4efb\u52a1\u7ba1\u7406",level:3},{value:"\u67e5\u770b\u7269\u5316\u89c6\u56fe\u7684job",id:"\u67e5\u770b\u7269\u5316\u89c6\u56fe\u7684job",level:4},{value:"\u6682\u505c\u7269\u5316\u89c6\u56fejob\u5b9a\u65f6\u8c03\u5ea6",id:"\u6682\u505c\u7269\u5316\u89c6\u56fejob\u5b9a\u65f6\u8c03\u5ea6",level:4},{value:"\u6062\u590d\u7269\u5316\u89c6\u56fejob\u5b9a\u65f6\u8c03\u5ea6",id:"\u6062\u590d\u7269\u5316\u89c6\u56fejob\u5b9a\u65f6\u8c03\u5ea6",level:4},{value:"\u67e5\u770b\u7269\u5316\u89c6\u56fe\u7684task",id:"\u67e5\u770b\u7269\u5316\u89c6\u56fe\u7684task",level:4},{value:"\u53d6\u6d88\u7269\u5316\u89c6\u56fe\u7684task",id:"\u53d6\u6d88\u7269\u5316\u89c6\u56fe\u7684task",level:4},{value:"\u4fee\u6539\u7269\u5316\u89c6\u56fe",id:"\u4fee\u6539\u7269\u5316\u89c6\u56fe",level:3},{value:"\u5220\u9664\u7269\u5316\u89c6\u56fe",id:"\u5220\u9664\u7269\u5316\u89c6\u56fe",level:3},{value:"\u6700\u4f73\u5b9e\u8df5",id:"\u6700\u4f73\u5b9e\u8df5",level:2},{value:"\u57fa\u8868\u5206\u533a\u8fc7\u591a\uff0c\u7269\u5316\u89c6\u56fe\u53ea\u5173\u6ce8\u6700\u8fd1\u4e00\u6bb5\u65f6\u95f4\u7684\u6570\u636e",id:"\u57fa\u8868\u5206\u533a\u8fc7\u591a\u7269\u5316\u89c6\u56fe\u53ea\u5173\u6ce8\u6700\u8fd1\u4e00\u6bb5\u65f6\u95f4\u7684\u6570\u636e",level:3},{value:"\u7269\u5316\u89c6\u56fe\u7684\u4f7f\u7528",id:"\u7269\u5316\u89c6\u56fe\u7684\u4f7f\u7528",level:2},{value:"\u6ce8\u610f\u4e8b\u9879",id:"\u6ce8\u610f\u4e8b\u9879",level:2}],u={toc:p},y="wrapper";function c(e){let{components:n,...l}=e;return(0,t.yg)(y,(0,a.A)({},u,l,{components:n,mdxType:"MDXLayout"}),(0,t.yg)("h1",{id:"\u5f02\u6b65\u7269\u5316\u89c6\u56fe"},"\u5f02\u6b65\u7269\u5316\u89c6\u56fe"),(0,t.yg)("h2",{id:"\u7269\u5316\u89c6\u56fe\u7684\u6784\u5efa\u548c\u7ef4\u62a4"},"\u7269\u5316\u89c6\u56fe\u7684\u6784\u5efa\u548c\u7ef4\u62a4"),(0,t.yg)("h3",{id:"\u521b\u5efa\u7269\u5316\u89c6\u56fe"},"\u521b\u5efa\u7269\u5316\u89c6\u56fe"),(0,t.yg)("p",null,"\u51c6\u5907\u4e24\u5f20\u8868\u548c\u6570\u636e"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-sql"},"use tpch;\n\nCREATE TABLE IF NOT EXISTS orders  (\n    o_orderkey       integer not null,\n    o_custkey        integer not null,\n    o_orderstatus    char(1) not null,\n    o_totalprice     decimalv3(15,2) not null,\n    o_orderdate      date not null,\n    o_orderpriority  char(15) not null,\n    o_clerk          char(15) not null,\n    o_shippriority   integer not null,\n    o_comment        varchar(79) not null\n    )\n    DUPLICATE KEY(o_orderkey, o_custkey)\n    PARTITION BY RANGE(o_orderdate)(\n    FROM ('2023-10-17') TO ('2023-10-20') INTERVAL 1 DAY)\n    DISTRIBUTED BY HASH(o_orderkey) BUCKETS 3\n    PROPERTIES (\"replication_num\" = \"1\");\n\ninsert into orders values\n   (1, 1, 'o', 99.5, '2023-10-17', 'a', 'b', 1, 'yy'),\n   (2, 2, 'o', 109.2, '2023-10-18', 'c','d',2, 'mm'),\n   (3, 3, 'o', 99.5, '2023-10-19', 'a', 'b', 1, 'yy');\n\nCREATE TABLE IF NOT EXISTS lineitem (\n    l_orderkey    integer not null,\n    l_partkey     integer not null,\n    l_suppkey     integer not null,\n    l_linenumber  integer not null,\n    l_quantity    decimalv3(15,2) not null,\n    l_extendedprice  decimalv3(15,2) not null,\n    l_discount    decimalv3(15,2) not null,\n    l_tax         decimalv3(15,2) not null,\n    l_returnflag  char(1) not null,\n    l_linestatus  char(1) not null,\n    l_shipdate    date not null,\n    l_commitdate  date not null,\n    l_receiptdate date not null,\n    l_shipinstruct char(25) not null,\n    l_shipmode     char(10) not null,\n    l_comment      varchar(44) not null\n    )\n    DUPLICATE KEY(l_orderkey, l_partkey, l_suppkey, l_linenumber)\n    PARTITION BY RANGE(l_shipdate)\n    (FROM ('2023-10-17') TO ('2023-10-20') INTERVAL 1 DAY)\n    DISTRIBUTED BY HASH(l_orderkey) BUCKETS 3\n    PROPERTIES (\"replication_num\" = \"1\");\n\ninsert into lineitem values\n (1, 2, 3, 4, 5.5, 6.5, 7.5, 8.5, 'o', 'k', '2023-10-17', '2023-10-17', '2023-10-17', 'a', 'b', 'yyyyyyyyy'),\n (2, 2, 3, 4, 5.5, 6.5, 7.5, 8.5, 'o', 'k', '2023-10-18', '2023-10-18', '2023-10-18', 'a', 'b', 'yyyyyyyyy'),\n (3, 2, 3, 6, 7.5, 8.5, 9.5, 10.5, 'k', 'o', '2023-10-19', '2023-10-19', '2023-10-19', 'c', 'd', 'xxxxxxxxx');\n")),(0,t.yg)("p",null,"\u521b\u5efa\u7269\u5316\u89c6\u56fe"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-sql"},"CREATE MATERIALIZED VIEW mv1 \n        BUILD DEFERRED REFRESH AUTO ON MANUAL\n        partition by(l_shipdate)\n        DISTRIBUTED BY RANDOM BUCKETS 2\n        PROPERTIES ('replication_num' = '1') \n        AS \n        select l_shipdate, o_orderdate, l_partkey, l_suppkey, sum(o_totalprice) as sum_total\n            from lineitem\n            left join orders on lineitem.l_orderkey = orders.o_orderkey and l_shipdate = o_orderdate\n            group by\n            l_shipdate,\n            o_orderdate,\n            l_partkey,\n            l_suppkey;\n")),(0,t.yg)("p",null,"\u5177\u4f53\u7684\u8bed\u6cd5\u53ef\u67e5\u770b",(0,t.yg)("a",{parentName:"p",href:"/zh-CN/docs/dev/sql-manual/sql-reference/Data-Definition-Statements/Create/CREATE-ASYNC-MATERIALIZED-VIEW"},"CREATE ASYNC MATERIALIZED VIEW")),(0,t.yg)("h3",{id:"\u67e5\u770b\u7269\u5316\u89c6\u56fe\u5143\u4fe1\u606f"},"\u67e5\u770b\u7269\u5316\u89c6\u56fe\u5143\u4fe1\u606f"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-sql"},'select * from mv_infos("database"="tpch") where Name="mv1";\n')),(0,t.yg)("p",null,"\u7269\u5316\u89c6\u56fe\u72ec\u6709\u7684\u7279\u6027\u53ef\u4ee5\u901a\u8fc7",(0,t.yg)("a",{parentName:"p",href:"/zh-CN/docs/dev/sql-manual/sql-functions/table-functions/mv_infos"},"mv_infos()"),"\u67e5\u770b"),(0,t.yg)("p",null,"\u548ctable\u76f8\u5173\u7684\u5c5e\u6027\uff0c\u4ecd\u901a\u8fc7",(0,t.yg)("a",{parentName:"p",href:"/zh-CN/docs/dev/sql-manual/sql-reference/Show-Statements/SHOW-TABLES"},"SHOW TABLES"),"\u6765\u67e5\u770b"),(0,t.yg)("h3",{id:"\u5237\u65b0\u7269\u5316\u89c6\u56fe"},"\u5237\u65b0\u7269\u5316\u89c6\u56fe"),(0,t.yg)("p",null,"\u7269\u5316\u89c6\u56fe\u652f\u6301\u4e0d\u540c\u5237\u65b0\u7b56\u7565\uff0c\u5982\u5b9a\u65f6\u5237\u65b0\u548c\u624b\u52a8\u5237\u65b0\u3002\u4e5f\u652f\u6301\u4e0d\u540c\u7684\u5237\u65b0\u7c92\u5ea6\uff0c\u5982\u5168\u91cf\u5237\u65b0\uff0c\u5206\u533a\u7c92\u5ea6\u7684\u589e\u91cf\u5237\u65b0\u7b49\u3002\u8fd9\u91cc\u6211\u4eec\u4ee5\u624b\u52a8\u5237\u65b0\u7269\u5316\u89c6\u56fe\u7684\u90e8\u5206\u5206\u533a\u4e3a\u4f8b\u3002"),(0,t.yg)("p",null,"\u9996\u5148\u67e5\u770b\u7269\u5316\u89c6\u56fe\u5206\u533a\u5217\u8868"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-sql"},"SHOW PARTITIONS FROM mv1;\n")),(0,t.yg)("p",null,"\u5237\u65b0\u540d\u5b57\u4e3a",(0,t.yg)("inlineCode",{parentName:"p"},"p_20231017_20231018"),"\u7684\u5206\u533a"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-sql"},"REFRESH MATERIALIZED VIEW mv1 partitions(p_20231017_20231018);\n")),(0,t.yg)("p",null,"\u5177\u4f53\u7684\u8bed\u6cd5\u53ef\u67e5\u770b",(0,t.yg)("a",{parentName:"p",href:"/zh-CN/docs/dev/sql-manual/sql-reference/Utility-Statements/REFRESH-MATERIALIZED-VIEW"},"REFRESH MATERIALIZED VIEW")),(0,t.yg)("h3",{id:"\u4efb\u52a1\u7ba1\u7406"},"\u4efb\u52a1\u7ba1\u7406"),(0,t.yg)("p",null,"\u6bcf\u4e2a\u7269\u5316\u89c6\u56fe\u90fd\u4f1a\u9ed8\u8ba4\u6709\u4e00\u4e2ajob\u8d1f\u8d23\u5237\u65b0\u6570\u636e\uff0cjob\u7528\u6765\u63cf\u8ff0\u7269\u5316\u89c6\u56fe\u7684\u5237\u65b0\u7b56\u7565\u7b49\u4fe1\u606f\uff0c\u6bcf\u6b21\u89e6\u53d1\u5237\u65b0\uff0c\u90fd\u4f1a\u4ea7\u751f\u4e00\u4e2atask\uff0c\ntask\u7528\u6765\u63cf\u8ff0\u5177\u4f53\u7684\u4e00\u6b21\u5237\u65b0\u4fe1\u606f\uff0c\u4f8b\u5982\u5237\u65b0\u7528\u7684\u65f6\u95f4\uff0c\u5237\u65b0\u4e86\u54ea\u4e9b\u5206\u533a\u7b49"),(0,t.yg)("h4",{id:"\u67e5\u770b\u7269\u5316\u89c6\u56fe\u7684job"},"\u67e5\u770b\u7269\u5316\u89c6\u56fe\u7684job"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-sql"},'select * from jobs("type"="mv") order by CreateTime;\n')),(0,t.yg)("p",null,"\u5177\u4f53\u7684\u8bed\u6cd5\u53ef\u67e5\u770b",(0,t.yg)("a",{parentName:"p",href:"/zh-CN/docs/dev/sql-manual/sql-functions/table-functions/jobs"},'jobs("type"="mv")')),(0,t.yg)("h4",{id:"\u6682\u505c\u7269\u5316\u89c6\u56fejob\u5b9a\u65f6\u8c03\u5ea6"},"\u6682\u505c\u7269\u5316\u89c6\u56fejob\u5b9a\u65f6\u8c03\u5ea6"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-sql"},"PAUSE MATERIALIZED VIEW JOB ON mv1;\n")),(0,t.yg)("p",null,"\u53ef\u4ee5\u6682\u505c\u7269\u5316\u89c6\u56fe\u7684\u5b9a\u65f6\u8c03\u5ea6"),(0,t.yg)("p",null,"\u5177\u4f53\u7684\u8bed\u6cd5\u53ef\u67e5\u770b",(0,t.yg)("a",{parentName:"p",href:"/zh-CN/docs/dev/sql-manual/sql-reference/Utility-Statements/PAUSE-MATERIALIZED-VIEW"},"PAUSE MATERIALIZED VIEW JOB")),(0,t.yg)("h4",{id:"\u6062\u590d\u7269\u5316\u89c6\u56fejob\u5b9a\u65f6\u8c03\u5ea6"},"\u6062\u590d\u7269\u5316\u89c6\u56fejob\u5b9a\u65f6\u8c03\u5ea6"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-sql"},"RESUME MATERIALIZED VIEW JOB ON mv1;\n")),(0,t.yg)("p",null,"\u53ef\u4ee5\u6062\u590d\u7269\u5316\u89c6\u56fe\u7684\u5b9a\u65f6\u8c03\u5ea6"),(0,t.yg)("p",null,"\u5177\u4f53\u7684\u8bed\u6cd5\u53ef\u67e5\u770b",(0,t.yg)("a",{parentName:"p",href:"/zh-CN/docs/dev/sql-manual/sql-reference/Utility-Statements/RESUME-MATERIALIZED-VIEW"},"RESUME MATERIALIZED VIEW JOB")),(0,t.yg)("h4",{id:"\u67e5\u770b\u7269\u5316\u89c6\u56fe\u7684task"},"\u67e5\u770b\u7269\u5316\u89c6\u56fe\u7684task"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-sql"},'select * from tasks("type"="mv");\n')),(0,t.yg)("p",null,"\u5177\u4f53\u7684\u8bed\u6cd5\u53ef\u67e5\u770b",(0,t.yg)("a",{parentName:"p",href:"/zh-CN/docs/dev/sql-manual/sql-functions/table-functions/tasks"},'tasks("type"="mv")')),(0,t.yg)("h4",{id:"\u53d6\u6d88\u7269\u5316\u89c6\u56fe\u7684task"},"\u53d6\u6d88\u7269\u5316\u89c6\u56fe\u7684task"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-sql"},"CANCEL MATERIALIZED VIEW TASK realTaskId on mv1;\n")),(0,t.yg)("p",null,"\u53ef\u4ee5\u53d6\u6d88\u672c\u6b21task\u7684\u8fd0\u884c"),(0,t.yg)("p",null,"\u5177\u4f53\u7684\u8bed\u6cd5\u53ef\u67e5\u770b",(0,t.yg)("a",{parentName:"p",href:"/zh-CN/docs/dev/sql-manual/sql-reference/Utility-Statements/CANCEL-MATERIALIZED-VIEW-TASK"},"CANCEL MATERIALIZED VIEW TASK")),(0,t.yg)("h3",{id:"\u4fee\u6539\u7269\u5316\u89c6\u56fe"},"\u4fee\u6539\u7269\u5316\u89c6\u56fe"),(0,t.yg)("p",null,"\u4fee\u6539\u7269\u5316\u89c6\u56fe\u7684\u5c5e\u6027"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-sql"},'ALTER MATERIALIZED VIEW mv1 set("grace_period"="3333");\n')),(0,t.yg)("p",null,"\u4fee\u6539\u7269\u5316\u89c6\u56fe\u7684\u540d\u5b57\uff0c\u7269\u5316\u89c6\u56fe\u7684\u5237\u65b0\u65b9\u5f0f\u53ca\u7269\u5316\u89c6\u56fe\u7279\u6709\u7684property\u53ef\u901a\u8fc7",(0,t.yg)("a",{parentName:"p",href:"/zh-CN/docs/dev/sql-manual/sql-reference/Data-Definition-Statements/Alter/ALTER-ASYNC-MATERIALIZED-VIEW"},"ALTER ASYNC MATERIALIZED VIEW"),"\u6765\u4fee\u6539"),(0,t.yg)("p",null,"\u7269\u5316\u89c6\u56fe\u672c\u8eab\u4e5f\u662f\u4e00\u4e2a Table\uff0c\u6240\u4ee5 Table \u76f8\u5173\u7684\u5c5e\u6027\uff0c\u4f8b\u5982\u526f\u672c\u6570\uff0c\u4ecd\u901a\u8fc7",(0,t.yg)("inlineCode",{parentName:"p"},"ALTER TABLE"),"\u76f8\u5173\u7684\u8bed\u6cd5\u6765\u4fee\u6539\u3002"),(0,t.yg)("h3",{id:"\u5220\u9664\u7269\u5316\u89c6\u56fe"},"\u5220\u9664\u7269\u5316\u89c6\u56fe"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-sql"},"DROP MATERIALIZED VIEW mv1;\n")),(0,t.yg)("p",null,"\u7269\u5316\u89c6\u56fe\u6709\u4e13\u95e8\u7684\u5220\u9664\u8bed\u6cd5\uff0c\u4e0d\u80fd\u901a\u8fc7drop table\u6765\u5220\u9664\uff0c"),(0,t.yg)("p",null,"\u5177\u4f53\u7684\u8bed\u6cd5\u53ef\u67e5\u770b",(0,t.yg)("a",{parentName:"p",href:"/zh-CN/docs/dev/sql-manual/sql-reference/Data-Definition-Statements/Drop/DROP-ASYNC-MATERIALIZED-VIEW"},"DROP ASYNC MATERIALIZED VIEW")),(0,t.yg)("h2",{id:"\u6700\u4f73\u5b9e\u8df5"},"\u6700\u4f73\u5b9e\u8df5"),(0,t.yg)("h3",{id:"\u57fa\u8868\u5206\u533a\u8fc7\u591a\u7269\u5316\u89c6\u56fe\u53ea\u5173\u6ce8\u6700\u8fd1\u4e00\u6bb5\u65f6\u95f4\u7684\u6570\u636e"},"\u57fa\u8868\u5206\u533a\u8fc7\u591a\uff0c\u7269\u5316\u89c6\u56fe\u53ea\u5173\u6ce8\u6700\u8fd1\u4e00\u6bb5\u65f6\u95f4\u7684\u6570\u636e"),(0,t.yg)("p",null,"\u521b\u5efa\u57fa\u8868\uff0c\u6709\u4e09\u4e2a\u5206\u533a"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-sql"},'CREATE TABLE t1 (\n    `k1` INT,\n    `k2` DATE NOT NULL\n) ENGINE=OLAP\nDUPLICATE KEY(`k1`)\nCOMMENT \'OLAP\'\nPARTITION BY range(`k2`)\n(\nPARTITION p26 VALUES [("2024-03-26"),("2024-03-27")),\nPARTITION p27 VALUES [("2024-03-27"),("2024-03-28")),\nPARTITION p28 VALUES [("2024-03-28"),("2024-03-29"))\n)\nDISTRIBUTED BY HASH(`k1`) BUCKETS 2\nPROPERTIES (\n\'replication_num\' = \'1\'\n);\n')),(0,t.yg)("p",null,'\u521b\u5efa\u7269\u5316\u89c6\u56fe\uff0c\u53ea\u5173\u6ce8\u6700\u8fd1\u4e00\u5929\u7684\u6570\u636e\uff0c\u5982\u679c\u5f53\u524d\u65f6\u95f4\u4e3a2024-03-28 xx:xx:xx\uff0c \u8fd9\u6837\u7269\u5316\u89c6\u56fe\u4f1a\u4ec5\u6709\u4e00\u4e2a\u5206\u533a[("2024-03-28"),("2024-03-29"))'),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-sql"},"CREATE MATERIALIZED VIEW mv1\nBUILD DEFERRED REFRESH AUTO ON MANUAL\npartition by(`k2`)\nDISTRIBUTED BY RANDOM BUCKETS 2\nPROPERTIES (\n'replication_num' = '1',\n'partition_sync_limit'='1',\n'partition_sync_time_unit'='DAY'\n)\nAS\nSELECT * FROM t1;\n")),(0,t.yg)("p",null,"\u65f6\u95f4\u53c8\u8fc7\u4e86\u4e00\u5929\uff0c\u5f53\u524d\u65f6\u95f4\u4e3a2024-03-29 xx:xx:xx\uff0c",(0,t.yg)("inlineCode",{parentName:"p"},"t1"),'\u65b0\u589e\u4e00\u4e2a\u5206\u533a[("2024-03-29"),("2024-03-30"))\uff0c\u5982\u679c\u6b64\u65f6\u5237\u65b0\u7269\u5316\u89c6\u56fe\uff0c\u5237\u65b0\u5b8c\u6210\u540e\uff0c\u7269\u5316\u89c6\u56fe\u4f1a\u4ec5\u6709\u4e00\u4e2a\u5206\u533a[("2024-03-29"),("2024-03-30"))'),(0,t.yg)("h2",{id:"\u7269\u5316\u89c6\u56fe\u7684\u4f7f\u7528"},"\u7269\u5316\u89c6\u56fe\u7684\u4f7f\u7528"),(0,t.yg)("p",null,"\u8bf7\u53c2\u9605 ",(0,t.yg)("a",{parentName:"p",href:"/zh-CN/docs/dev/query-acceleration/async-materialized-view/query-async-materialized-view"},"\u67e5\u8be2\u5f02\u6b65\u7269\u5316\u89c6\u56fe")),(0,t.yg)("h2",{id:"\u6ce8\u610f\u4e8b\u9879"},"\u6ce8\u610f\u4e8b\u9879"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"\u5f02\u6b65\u7269\u5316\u89c6\u56fe\u4ec5\u652f\u6301\u5728",(0,t.yg)("a",{parentName:"li",href:"/zh-CN/docs/dev/query-acceleration/nereids"},"Nereids \u4f18\u5316\u5668"),"\u4f7f\u7528"),(0,t.yg)("li",{parentName:"ul"},"\u5f53\u524d\u5224\u65ad\u7269\u5316\u89c6\u56fe\u548c\u57fa\u8868\u662f\u5426\u540c\u6b65\u4ec5\u652f\u6301",(0,t.yg)("inlineCode",{parentName:"li"},"OlapTable"),"\u3002\u5bf9\u4e8e\u5176\u5b83\u5916\u8868\uff0c\u4f1a\u76f4\u63a5\u8ba4\u4e3a\u662f\u540c\u6b65\u7684\u3002\u4f8b\u5982\uff0c\u7269\u5316\u89c6\u56fe\u7684\u57fa\u8868\u5168\u662f\u5916\u8868\u3002\u5728\u67e5\u8be2",(0,t.yg)("inlineCode",{parentName:"li"},"mv_infos()"),"\u65f6\uff0cSyncWithBaseTables\u4f1a\u6c38\u8fdc\u4e3a1\uff08true\uff09\u3002\u5728\u5237\u65b0\u7269\u5316\u89c6\u56fe\u65f6\u9700\u8981\u624b\u52a8\u5237\u65b0\u6307\u5b9a\u7684\u5206\u533a\u6216\u6307\u5b9a",(0,t.yg)("inlineCode",{parentName:"li"},"complete"),"\u5237\u65b0\u5168\u90e8\u5206\u533a")))}c.isMDXComponent=!0}}]);